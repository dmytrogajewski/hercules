language: swift
extensions:
- .swift
parser: tree-sitter
mapping:
  source_file:
    type: File
    skip_if_empty: true
  function_declaration:
    type: Function
    roles:
    - Function
    - Declaration
    name:
      source: fields.name
    token: fields.name
    children:
      - type: parameter_list
      - type: function_body
      - type: simple_identifier
        exclude_if:
          type: simple_identifier
          parent_context: function_declaration
      - type: parameter
        exclude_if:
          type: parameter
          parent_context: function_declaration
  parameter_list:
    type: ParameterList
    roles:
    - Parameter
    - List
    children:
      - type: parameter
  parameter:
    type: Parameter
    roles:
    - Parameter
    - Declaration
    name:
      source: fields.name
  function_body:
    type: Block
    children:
      - type: statements
  statements:
    type: StatementList
    children:
      - type: control_transfer_statement
  control_transfer_statement:
    type: Return
    roles:
    - Return
  line_string_literal:
    type: Literal
    roles:
    - Literal
    props:
      token: text
  additive_expression:
    type: BinaryExpression
    roles:
    - Binary
    children:
      - type: simple_identifier
  simple_identifier:
    type: Identifier
    roles:
    - Name
    props:
      name: text
      token: text
  class_declaration:
    type: Class
    roles:
    - Class
    - Declaration
    name:
      source: fields.name
  protocol_declaration:
    type: Interface
    roles:
    - Interface
    - Declaration
    name:
      source: fields.name
  import_declaration:
    type: Import
    roles:
    - Import
